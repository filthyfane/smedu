{% extends 'base.html.twig' %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{ asset('css/navbsideb.css') }}">
  <script src="https://unpkg.com/scrollreveal@4"></script>
{% endblock %}

{% block menus %}
  <!-- Sidebar  -->
  {{ include('inc/sidebar_parent.html.twig') }}

  <!-- Navbar -->
  {{ include('inc/navbar.html.twig') }}
{% endblock %}

{# {% block javascripts %}
{% endblock %} #}

{% block navscripts %}
<script>
/* -------- This script is used to collapse the sidebar and resize its content ----------- */
  $(document).ready(function () {
    $('#sidebarCollapse').on('click', function () {
      $('#sidebar').toggleClass('active');
      $('.navbar').toggleClass('active');
      $('#content').toggleClass('active');
      if (localStorage.getItem("collapsecookie") == 1) {
        localStorage.setItem("collapsecookie", 0);
      } else if (localStorage.getItem("collapsecookie") == 0) {
        localStorage.setItem("collapsecookie", 1);
      }
    });
  });

  if (localStorage.getItem("collapsecookie") == null ) {
    localStorage.setItem("collapsecookie", 0);
    console.log('Am pus 0!!!');
  } else if (localStorage.getItem("collapsecookie") == 1) {
    $('#sidebar').toggleClass('active');
    $('.navbar').toggleClass('active');
    $('#content').toggleClass('active');
    //console.log('ERA 1!');
  } else {
    //console.log('ERA 0!');
  }

  $("#sidebar li").each(function() {
    var h = $("a",this).attr('href');
    //console.log(h+'\n'+window.location.pathname)
    if (h == window.location.pathname) {
        $(this).addClass("active");
    } else {
        $(this).removeClass("active");
    }
  });
</script>

<script>
  /* -------- This script was used to hide the scrollbar ----------- */
  //var parent = document.getElementById('sidebar'); // this is actually not needed
  //var child = document.getElementById('sidebarChild');
  //var myOffset = child.offsetWidth - child.clientWidth;
  // child.style.paddingRight = myOffset + "px";
  // child.style.width = child.clientWidth + myOffset + "px";
</script>
{% endblock %}
